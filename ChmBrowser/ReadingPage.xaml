<!-- Copyright 2015 XU Weijiang (weijiang.xu AT gmail.com) License: GPLv3 -->
<Page
    x:Class="ChmBrowser.ReadingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:ChmBrowser"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid x:Name="root">
        <Grid.RowDefinitions>
            <RowDefinition Height="2"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <ProgressBar x:Name="progressBar" Grid.Row="0" IsIndeterminate="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Visibility="Collapsed"/>
        <WebView Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" x:Name="webView"/>
        <Grid x:Name="settingRoot" Grid.Row="2" Margin="19,10,0,0">
            <Grid.ChildrenTransitions>
                <TransitionCollection>
                    <EntranceThemeTransition/>
                </TransitionCollection>
            </Grid.ChildrenTransitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBlock x:Uid="PageZoom" Grid.Row="0" Text="页面缩放" Margin="0, 0, 0, 15" Style="{ThemeResource SubheaderTextBlockStyle}"/>
            <ToggleSwitch x:Uid="AutoZoom" x:Name="isAutoZoom" Grid.Row="1" Header="自动缩放" OnContent="开启" OffContent="关闭"/>
            <TextBlock Grid.Row="2" Margin="0, -5, 10, 0" x:Name="zoomIndicator" HorizontalAlignment="Center" Text="auto"/>
            <Slider x:Name="scaleSlider" Grid.Row="3" Margin="0, -10, 10, 5" HorizontalAlignment="Stretch" Value="1" Height="50" Minimum="0.1" Maximum="8" StepFrequency="0.1" SnapsTo="StepValues"/>
        </Grid>
    </Grid>
    <Page.BottomAppBar>
        <CommandBar x:Name="commandBar">
            <CommandBar.PrimaryCommands>
                <AppBarButton x:Uid="Previous" x:Name="previousButton" Label="上一章" Click="Previous_Click" Icon="Back" Tag="1">
                </AppBarButton>
                <AppBarButton x:Uid="ContentsButton" Label="目录" Click="Contents_Click" Icon="AlignLeft" Tag="1">
                </AppBarButton>
                <AppBarButton x:Uid="Next" x:Name="nextButton" Label="下一章" Click="Next_Click" Icon="Forward" Tag="1">
                </AppBarButton>
                <AppBarButton x:Uid="GoBack" Label="后退" IsEnabled="{Binding CanGoBack, ElementName=webView}" Click="GoBack_Click" Icon="Back" Tag="2">
                </AppBarButton>
                <AppBarButton x:Uid="Home" Label="首页" Click="Home_Click" Icon="Home" Tag="2">
                </AppBarButton>
                <AppBarButton x:Uid="GoForward" Label="前进" IsEnabled="{Binding ElementName=webView, Path=CanGoForward}" Click="GoForward_Click" Icon="Forward" Tag="2">
                </AppBarButton>
            </CommandBar.PrimaryCommands>
            <CommandBar.SecondaryCommands>
                <AppBarButton x:Uid="GoBack" Label="后退" IsEnabled="{Binding ElementName=webView, Path=CanGoBack}" Click="GoBack_Click" Tag="1"/>
                <AppBarButton x:Uid="GoForward" Label="前进" IsEnabled="{Binding ElementName=webView, Path=CanGoForward}" Click="GoForward_Click" Tag="1"/>
                <AppBarButton x:Uid="Settings" Label="设置..." Click="GoSetting_Click" Tag="3"/>
            </CommandBar.SecondaryCommands>
        </CommandBar>
    </Page.BottomAppBar>
</Page>
